<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en-GB">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>Exercise 2</title>
		
		<script type="text/javascript" src="../jquery-1.4.2.min.js"></script>
		<script type="text/javascript">
			$(function($) {
				$('.collapsed-list li b').click(
					function(e) {
						var listItem = this.parentNode;
						/*
							Step 1:
							Without using jQuery's functions, write some logic to do the following
							on the listItem DOM Node that emulates the following:
							$(this.parentNode).toggleClass('closed');
							The first line of this function (above) already gets a reference, so
							we just need to complete the 'toggle' logic:
							
							Write logic that toggles the closed class on the listItem node:
								* Use the JavaScript string functions match and replace.
								* if the class attribute doesn't contain 'closed' add it
								* if the class attribute does contain 'closed' then remove it
								* if there is no class attribute, create one with 'closed' in it
									
						*/

						if (listItem.className) {
							if (listItem.className.match(/\bclosed\b/)) {
								listItem.className = listItem.className.replace(/\bclosed\b/, '');
							} else {
								listItem.className += ' closed';
							}
						} else {
							listItem.className = 'closed';
						}
					}
				);
			});
			
		</script>
		
		<style type="text/css">
			#page {
				width: 750px;
				margin: 0 auto;
			}
			
			#main {
				width: 500px;
				float: left;
			}
			
			#releated {
				width: 250px;
				float: left;
			}
			
			
			.collapsed-list {
				background-color: #ccc;
				border: 1px solid Black;
			}

			.collapsed-list li {
				list-style-type: circle;
			}
			
			.collapsed-list .closed {
				list-style-type: disc;
			}
			
			.closed ul,
			.closed ol {
				display: none;
			}
			
		</style>
	</head>
	<body>

		<div id="page">
			<div id="head"></div>
			<div id="main">
				
				<ul class="collapsed-list">
					<li><b>Chapter 1</b>
						<ul>
							<li><b>Section 1.1</b></li>
							<li><b>Section 1.2</b>
								<ul>
									<li><b>Sub-section 1.2.1</b></li>
								</ul>
							</li>
							<li><b>Section 1.3</b></li>
						</ul>
					</li>
					<li><b>Chapter 2</b></li>
					<li><b>Chapter 3</b>
						<ul>
							<li><b>Section 3.1</b></li>
							<li><b>Section 3.2</b>
								<ul>
									<li><b>Sub-section 3.2.1</b></li>
								</ul>
							</li>
							<li><b>Section 3.3</b></li>
						</ul>						
					</li>
					<li><b>Chapter 4</b></li>
					<li><b>Chapter 5</b></li>
				</ul>
					
			</div>
			<div id="related"></div>
			<div id="foot"></div>
		</div>
	
	</body>
</html>
